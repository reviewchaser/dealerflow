The file C:\Users\georg\dealerflow\components\DealDrawer.js has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   287→      setActionLoading(null);
   288→    }
   289→  };
   290→
   291→  const handleCancelDeal = async () => {
   292→    if (!confirm("Are you sure you want to cancel this deal?")) return;
   293→
   294→    setActionLoading("cancel");
   295→    try {
   296→      const res = await fetch(`/api/deals/${dealId}`, {
   297→        method: "DELETE",
   298→        headers: { "Content-Type": "application/json" },
   299→        body: JSON.stringify({ cancelReason: "Cancelled by user" }),
   300→      });
   301→
   302→      if (!res.ok) {
   303→        const err = await res.json();
   304→        throw new Error(err.error || "Failed to cancel deal");
   305→      }
   306→
   307→      toast.success("Deal cancelled");
   308→      fetchDeal();
   309→      onUpdate?.();
   310→    } catch (error) {
   311→      toast.error(error.message);
   312→    } finally {
   313→      setActionLoading(null);
   314→    }
   315→  };
   316→
   317→  const handleUpdateCustomer = async (contactId) => {
   318→    if (!contactId) return;
   319→
   320→    setActionLoading("customer");
   321→    try {
   322→      const res = await fetch(`/api/deals/${dealId}`, {
   323→        method: "PUT",
   324→        headers: { "Content-Type": "application/json" },
   325→        body: JSON.stringify({ soldToContactId: contactId }),
   326→      });
   327→
   328→      if (!res.ok) {
   329→        const err = await res.json();
   330→        throw new Error(err.error || "Failed to update customer");
   331→      }
   332→
   333→      toast.success("Customer updated");
   334→      setIsEditingCustomer(false);
   335→      fetchDeal();
   336→      onUpdate?.();
   337→    } catch (error) {
   338→      toast.error(error.message);
   339→    } finally {
   340→      setActionLoading(null);
   341→    }
   342→  };
   343→
   344→  if (!isOpen) return null;
   345→
   346→  const totals = calculateTotals();
   347→  const statusConfig = STATUS_CONFIG[deal?.status] || STATUS_CONFIG.DRAFT;
   348→