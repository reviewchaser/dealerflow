  2810→            );
  2811→          })}
  2812→          </div>
  2813→        </>
  2814→      )}
  2815→
  2816→      {/* Vehicle Detail Drawer - Full Screen on Mobile */}
  2817→      {selectedVehicle && (
  2818→        <div
  2819→          className="fixed inset-0 z-50 flex justify-end"
  2820→          style={{ touchAction: "pan-y", overscrollBehavior: "contain" }}
  2821→        >
  2822→          <div className="bg-black/50 absolute inset-0 hidden md:block" onClick={() => setSelectedVehicle(null)}></div>
  2823→          <div
  2824→            className="relative bg-white w-full md:max-w-3xl h-full flex flex-col"
  2825→            style={{ overflowX: "hidden", overflowY: "auto" }}
  2826→          >
  2827→            {/* Sticky Header */}
  2828→            <div className="sticky top-0 bg-white border-b border-slate-200 px-4 md:px-6 py-3 md:py-4 flex justify-between items-center z-10">
  2829→              <div className="flex items-center gap-3">
  2830→                {/* Back button on mobile */}
  2831→                <button className="md:hidden btn btn-ghost btn-sm btn-circle" onClick={() => setSelectedVehicle(null)}>
  2832→                  <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
  2833→                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
  2834→                  </svg>
  2835→                </button>
  2836→                <div>
  2837→                  <h2 className="text-lg md:text-xl font-bold text-slate-900">
  2838→                    {selectedVehicle.year || ""} {selectedVehicle.make} {selectedVehicle.model}
  2839→                  </h2>
  2840→                  <p className="text-xs md:text-sm text-slate-500 font-mono mt-0.5">{selectedVehicle.regCurrent}</p>
  2841→                </div>
  2842→              </div>
  2843→              <div className="flex items-center gap-1 md:gap-2">
  2844→                <button
  2845→                  className="hidden md:flex btn btn-outline btn-sm"
  2846→                  onClick={handleGenerateJobSheet}
  2847→                  disabled={isGeneratingJobSheet}
  2848→                  title="Share job sheet with mechanic"
  2849→                >
  2850→                  <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
  2851→                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
  2852→                  </svg>
  2853→                  {isGeneratingJobSheet ? "..." : "Share"}
  2854→                </button>
  2855→                <button
  2856→                  className="hidden md:flex btn btn-outline btn-sm"
  2857→                  onClick={handleGeneratePrepSummary}
  2858→                  disabled={isGeneratingPrepSummary}
  2859→                  title="Export prep summary PDF"
  2860→                >
  2861→                  <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
  2862→                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
  2863→                  </svg>
  2864→                  {isGeneratingPrepSummary ? "..." : "Prep PDF"}
  2865→                </button>
  2866→                <button className="hidden md:flex btn btn-outline btn-sm" onClick={handlePrintVehicle} title="Print vehicle details">
  2867→                  <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
  2868→                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
  2869→                  </svg>
  2870→                  Print
  2871→                </button>
  2872→                <button
  2873→                  className="btn btn-ghost btn-sm text-error"
  2874→                  onClick={async () => {
  2875→                    if (confirm("Delete this vehicle?")) {
  2876→                      await fetch(`/api/vehicles/${selectedVehicle.id}`, { method: "DELETE" });
  2877→                      setSelectedVehicle(null);
  2878→                      fetchVehicles();
  2879→                      toast.success("Vehicle deleted");
  2880→                    }
  2881→                  }}
  2882→                  title="Delete vehicle"
  2883→                >
  2884→                  <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
  2885→                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
  2886→                  </svg>
  2887→                </button>
  2888→                <button className="hidden md:flex btn btn-ghost btn-sm" onClick={() => setSelectedVehicle(null)}>
  2889→                  ✕
  2890→                </button>
  2891→              </div>
  2892→            </div>
  2893→
  2894→            {/* Tabs - Simple native select on mobile, pills on desktop */}
  2895→            <div className="border-b border-slate-200 bg-white">
  2896→              {/* Mobile: Native select - simple and reliable */}
  2897→              <div className="block md:hidden px-4 py-3">
  2898→                <label className="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">
  2899→                  Section
  2900→                </label>
  2901→                <select
  2902→                  value={activeTab}
  2903→                  onChange={(e) => {
  2904→                    setActiveTab(e.target.value);
  2905→                    if (e.target.value === "activity" && selectedVehicle?.id) {
  2906→                      fetchActivity(selectedVehicle.id);
  2907→                    }
  2908→                  }}
  2909→                  className="block w-full px-4 py-3 text-base font-semibold text-slate-900 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
