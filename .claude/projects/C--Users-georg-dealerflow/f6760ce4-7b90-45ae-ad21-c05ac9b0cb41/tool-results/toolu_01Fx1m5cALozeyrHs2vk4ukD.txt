     1â†’import { useState } from "react";
     2â†’import { QRCodeSVG } from "qrcode.react";
     3â†’import toast from "react-hot-toast";
     4â†’
     5â†’export default function ShareFormModal({ form, publicUrl, onClose }) {
     6â†’  const [showQR, setShowQR] = useState(false);
     7â†’
     8â†’  const copyToClipboard = () => {
     9â†’    navigator.clipboard.writeText(publicUrl);
    10â†’    toast.success("Link copied to clipboard!");
    11â†’  };
    12â†’
    13â†’  const shareViaEmail = () => {
    14â†’    const subject = encodeURIComponent(`${form.name} - DealerFlow Form`);
    15â†’    const body = encodeURIComponent(`Please fill out this form:\n\n${publicUrl}`);
    16â†’    window.open(`mailto:?subject=${subject}&body=${body}`);
    17â†’  };
    18â†’
    19â†’  const shareViaWhatsApp = () => {
    20â†’    const text = encodeURIComponent(`Please fill out this form: ${publicUrl}`);
    21â†’    window.open(`https://wa.me/?text=${text}`, "_blank");
    22â†’  };
    23â†’
    24â†’  const getSMSText = () => {
    25â†’    return `Please fill out this form: ${publicUrl}`;
    26â†’  };
    27â†’
    28â†’  return (
    29â†’    <>
    30â†’      {/* Modal backdrop */}
    31â†’      <div className="modal modal-open">
    32â†’        <div className="modal-box max-w-2xl">
    33â†’          <h3 className="font-bold text-lg mb-4">Share: {form.name}</h3>
    34â†’
    35â†’          {/* Public URL */}
    36â†’          <div className="form-control mb-6">
    37â†’            <label className="label">
    38â†’              <span className="label-text font-semibold">Public URL</span>
    39â†’            </label>
    40â†’            <div className="flex gap-2">
    41â†’              <input
    42â†’                type="text"
    43â†’                className="input input-bordered flex-1"
    44â†’                value={publicUrl}
    45â†’                readOnly
    46â†’                onClick={(e) => e.target.select()}
    47â†’              />
    48â†’              <button className="btn btn-primary" onClick={copyToClipboard}>
    49â†’                Copy
    50â†’              </button>
    51â†’            </div>
    52â†’          </div>
    53â†’
    54â†’          {/* Share Options */}
    55â†’          <div className="grid grid-cols-2 gap-4 mb-6">
    56â†’            <button
    57â†’              className="btn btn-outline"
    58â†’              onClick={shareViaEmail}
    59â†’            >
    60â†’              ðŸ“§ Email
    61â†’            </button>
    62â†’            <button
    63â†’              className="btn btn-outline"
    64â†’              onClick={shareViaWhatsApp}
    65â†’            >
    66â†’              ðŸ’¬ WhatsApp
    67â†’            </button>
    68â†’            <button
    69â†’              className="btn btn-outline"
    70â†’              onClick={() => setShowQR(!showQR)}
    71â†’            >
    72â†’              ðŸ“± QR Code
    73â†’            </button>
    74â†’            <div className="form-control">
    75â†’              <label className="label cursor-pointer">
    76â†’                <span className="label-text">SMS</span>
    77â†’                <input type="checkbox" className="toggle" disabled />
    78â†’              </label>
    79â†’              <p className="text-xs text-base-content/60 mt-1">
    80â†’                Copy the link and send via SMS
    81â†’              </p>
    82â†’            </div>
    83â†’          </div>
    84â†’
    85â†’          {/* SMS Text */}
    86â†’          <div className="form-control mb-6">
    87â†’            <label className="label">
    88â†’              <span className="label-text font-semibold">SMS Text (Copy & Send)</span>
    89â†’            </label>
    90â†’            <textarea
    91â†’              className="textarea textarea-bordered"
    92â†’              value={getSMSText()}
    93â†’              readOnly
    94â†’              rows={3}
    95â†’              onClick={(e) => e.target.select()}
    96â†’            />
    97â†’          </div>
    98â†’
    99â†’          {/* QR Code */}
   100â†’          {showQR && (
   101â†’            <div className="flex flex-col items-center mb-6 p-6 bg-base-200 rounded-lg">
   102â†’              <p className="font-semibold mb-4">Scan to open form</p>
   103â†’              <QRCodeSVG value={publicUrl} size={200} level="H" />
   104â†’              <p className="text-sm text-base-content/60 mt-4">
   105â†’                Right-click to save or print
   106â†’              </p>
   107â†’            </div>
   108â†’          )}
   109â†’
   110â†’          {/* Close Button */}
   111â†’          <div className="modal-action">
   112â†’            <button className="btn" onClick={onClose}>
   113â†’              Close
   114â†’            </button>
   115â†’          </div>
   116â†’        </div>
   117â†’        <div className="modal-backdrop" onClick={onClose}></div>
   118â†’      </div>
   119â†’    </>
   120â†’  );
   121â†’}
   122â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
