The file C:\Users\georg\dealerflow\pages\api\dealer\logo.js has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
    34→
    35→// Max logo size: 2MB (logos should be small)
    36→const MAX_FILE_SIZE = 2 * 1024 * 1024;
    37→
    38→/**
    39→ * Required R2/S3 environment variables
    40→ */
    41→const REQUIRED_ENV_VARS = ["S3_ACCESS_KEY", "S3_SECRET_KEY", "S3_BUCKET", "S3_ENDPOINT"];
    42→
    43→/**
    44→ * Check if S3/R2 is configured
    45→ */
    46→function isS3Configured() {
    47→  return REQUIRED_ENV_VARS.every((key) => !!process.env[key]);
    48→}
    49→
    50→/**
    51→ * Validate R2 config and throw with clear error if missing
    52→ */
    53→function validateR2Config() {
    54→  const missing = REQUIRED_ENV_VARS.filter((key) => !process.env[key]);
    55→  if (missing.length > 0) {
    56→    throw new Error(`Missing required R2 environment variables: ${missing.join(", ")}`);
    57→  }
    58→}
    59→
    60→/**
    61→ * Get S3 client configured for Cloudflare R2
    62→ */
    63→function getS3Client() {
    64→  validateR2Config();
    65→
    66→  return new S3Client({
    67→    region: process.env.S3_REGION || "auto",
    68→    endpoint: process.env.S3_ENDPOINT,
    69→    credentials: {
    70→      accessKeyId: process.env.S3_ACCESS_KEY,
    71→      secretAccessKey: process.env.S3_SECRET_KEY,
    72→    },
    73→  });
    74→}
    75→
    76→/**
    77→ * Upload logo to S3 (private bucket)
    78→ * Returns the S3 key